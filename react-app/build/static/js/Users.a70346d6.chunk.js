(window["webpackJsonpmy-meals-app"]=window["webpackJsonpmy-meals-app"]||[]).push([[3],{252:function(e,a,t){"use strict";var n=t(6),r=t(79),l=t(37),s=new(t(119).b.Entity)("users",{},{idAttribute:"_id"}),i={USERS:s,USERS_ARRAY:[s]},c=t(90);t.d(a,"a",function(){return o}),t.d(a,"c",function(){return u}),t.d(a,"d",function(){return m}),t.d(a,"b",function(){return d});var o=function(e){return Object(n.a)({},l.a,{types:[c.b,c.c,c.a],endpoint:"user",method:"POST",body:Object(r.a)(["userName","email","fullName","role","password"])(e||{}),meta:Object(r.a)(["onSuccess","onFailure"])(e||{})})},u=function(e){var a;return a={},Object(n.a)(a,l.a,{types:[c.h,c.i,c.g],endpoint:"users",body:Object(r.a)(["id"])(e||{}),meta:Object(r.a)(["onSuccess","onFailure"])(e||{}),schema:e.normalize?{data:i.USERS_ARRAY}:null}),Object(n.a)(a,"normalize",e.normalize),a},m=function(e){return Object(n.a)({},l.a,{types:[c.k,c.l,c.j],endpoint:"user",method:"PATCH",body:Object(r.a)(["id","userName","email","fullName","dailyCaloriesTarget","role","password"])(e||{}),meta:Object(r.a)(["onSuccess","onFailure"])(e||{})})},d=function(e){return Object(n.a)({},l.a,{types:[c.e,c.f,c.d],endpoint:"user",method:"DELETE",body:Object(r.a)(["id"])(e||{}),meta:Object(r.a)(["onSuccess","onFailure"])(e||{})})}},255:function(e,a,t){"use strict";var n=t(0),r=t.n(n),l=t(26),s=t(120),i=t.n(s),c=l.b.div.withConfig({componentId:"sc-7ap35w-0"})(["width:100px;height:100px;.shadow{display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background:rgba(0,0,0,0.05);> span{font-size:1.5rem;}}"]);a.a=function(e){var a=e.name,t=e.className;return r.a.createElement(c,{className:t||""},r.a.createElement("div",{className:"shadow"},a?r.a.createElement("span",null,(a||"").substring(0,1).toUpperCase()):r.a.createElement(i.a,null)))}},259:function(e,a,t){"use strict";var n=t(21),r=t(0),l=t.n(r),s=t(26),i=t(17),c=t(29),o=t(100),u=t(146),m=t(250),d=t(252),p=t(45),b=t(121),f=t(255),h=t(9),E=s.b.div.withConfig({componentId:"sc-12vc7f0-0"})(["position:relative;display:flex;max-width:100%;width:100%;min-height:50px;margin:10px auto;padding:8px 12px;border-radius:8px;box-shadow:0 0 7px rgba(0,0,0,0.2);.more-btns{align-self:center;> button{outline:none;border:0;background:none;cursor:pointer;}}.field{position:relative;overflow:hidden;flex:25%;margin:0 10px;white-space:nowrap;&.email{flex:33%;}span{display:block;&.field-label{margin:0 0 8px;font-weight:bold;color:rgba(0,0,0,0.8);}}}.avatar{width:50px;min-width:50px;height:50px;}@media (max-width:950px){display:block;padding:15px;.field{margin:0 0 30px;flex:unset;white-space:normal;.field-label{margin:0 0 2px;}}.more-btns{position:absolute;top:15px;right:15px;i{font-size:26px;}}.avatar{margin:0 0 35px;}}"]),g=Object(o.a)(function(){return{anchorMenuItem:{padding:0},menuAnchor:{display:"block",width:"100%",padding:"10px 0",textAlign:"center",textDecoration:"none",color:"#000"}}});a.a=Object(i.b)(null,{deleteUser:d.b,setSnackbar:p.b})(function(e){var a=e._id,t=e.className,r=e.userName,s=e.email,i=e.fullName,o=e.dailyCaloriesTarget,d=e.role,p=e.onDelete,x=e.deleteUser,v=e.setSnackbar,N=Object(b.b)(),w=g(),j=l.a.useState(!1),y=Object(n.a)(j,2),O=y[0],S=y[1],k=l.a.useState(null),C=Object(n.a)(k,2),A=C[0],U=C[1];return l.a.createElement(E,{className:t||""},l.a.createElement(f.a,{name:r,className:"avatar"}),l.a.createElement("div",{className:"userName field"},l.a.createElement("span",{className:"field-label"},"Username"),l.a.createElement("span",{className:"field-value",title:r},r)),l.a.createElement("div",{className:"email field"},l.a.createElement("span",{className:"field-label"},"Email"),l.a.createElement("span",{className:"field-value",title:s},s)),l.a.createElement("div",{className:"fullName field"},l.a.createElement("span",{className:"field-label"},"Full name"),l.a.createElement("span",{className:"field-value",title:i},i)),l.a.createElement("div",{className:"dailyCaloriesTarget field"},l.a.createElement("span",{className:"field-label"},"Exp. Calories / Day"),l.a.createElement("span",{className:"field-value",title:o},o)),l.a.createElement("div",{className:"role field"},l.a.createElement("span",{className:"field-label"},"Role"),l.a.createElement("span",{className:"field-value",title:d},d)),l.a.createElement("div",{className:"more-btns"},l.a.createElement("button",{"aria-label":"More",onClick:function(e){U(function(a){return a?null:e.currentTarget})}},l.a.createElement("i",{className:"material-icons"},"expand_more")),l.a.createElement(u.a,{id:"user-".concat(a,"-menu"),keepMounted:!0,anchorEl:A,open:!!A,onClose:function(){U(null)}},N===h.a.Admin&&l.a.createElement(m.a,{className:w.anchorMenuItem},l.a.createElement(c.b,{to:"/user/".concat(a,"/meals"),className:w.menuAnchor},"MEALS")),l.a.createElement(m.a,{className:w.anchorMenuItem},l.a.createElement(c.b,{to:"/user/".concat(a,"/edit"),className:w.menuAnchor},"EDIT")),l.a.createElement(m.a,{onClick:function(){O||(S(!0),x({id:a,onSuccess:p,onFailure:function(e){S(!1),v(e.message||"Something went wrong")}}))}},"DELETE"))))})},264:function(e,a,t){"use strict";t.r(a);var n=t(30),r=t(27),l=t(32),s=t(33),i=t(34),c=t(0),o=t.n(c),u=t(26),m=t(17),d=t(29),p=t(122),b=t.n(p),f=t(259),h=t(252),E=function(e){var a=e.users,t=e.entities;return(a.userIds||[]).map(function(e){return t.users[e]})},g=t(9),x=u.b.div.withConfig({componentId:"o37m6w-0"})([".user-create-anchor{display:flex;justify-content:center;align-items:center;width:100%;min-height:50px;margin:10px auto;padding:8px 12px;border-radius:8px;box-shadow:0 0 7px rgba(0,0,0,0.2);}"]),v=function(e){function a(){var e,t;Object(n.a)(this,a);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return(t=Object(l.a)(this,(e=Object(s.a)(a)).call.apply(e,[this].concat(i)))).handleUserDelete=function(){return t.props.getUsers({normalize:!0})},t}return Object(i.a)(a,e),Object(r.a)(a,[{key:"componentDidMount",value:function(){this.props.getUsers({normalize:!0})}},{key:"render",value:function(){var e=this,a=this.props,t=a.users,n=a.user;return o.a.createElement(x,null,o.a.createElement(d.b,{to:g.b.UserCreate,className:"user-create-anchor"},o.a.createElement(b.a,null)),t.map(function(a){return a._id!==n._id?o.a.createElement(f.a,Object.assign({key:a._id},a,{onDelete:e.handleUserDelete})):null}))}}]),a}(o.a.PureComponent);a.default=Object(m.b)(function(e){return{users:E(e),user:e.auth.user}},{getUsers:h.c})(v)}}]);
//# sourceMappingURL=Users.a70346d6.chunk.js.map