{"version":3,"sources":["store/schemas.js","store/users/actions.js","utils/isAlphanumeric.js","utils/isValidEmail.js","components/Avatar.jsx","utils/parseNameInitials.js","../node_modules/@material-ui/icons/Visibility.js","../node_modules/@material-ui/icons/VisibilityOff.js","utils/userCredentialsValidation.js","components/User.jsx","containers/user/UserCredentials.jsx","containers/user/UserCreate.jsx","containers/user/UserPage.jsx","containers/user/UserEdit.jsx","containers/user/UserMeals.jsx","containers/user/index.jsx"],"names":["usersScema","schema","Entity","idAttribute","USERS","USERS_ARRAY","createUser","params","CALL_API","types","ActionTypes","endpoint","method","body","pick","meta","getUsers","normalize","data","Schemas","updateUser","deleteUser","isAlphanumeric","str","test","String","isValidEmail","email","toLowerCase","Wrapper","styled","div","Avatar","name","className","substring","toUpperCase","_interopRequireDefault","Object","defineProperty","exports","value","default","_react","_default","createElement","d","Fragment","fill","userCredentialsValidation","validate","userName","role","password","confirmPassword","isValid","errors","errorMsg","userNameValidation","emailValidation","ROLES","Admin","Moderator","Regular","includes","roleValidation","passwordValidation","confirmPasswordValidation","useStyles","makeStyles","anchorMenuItem","padding","menuAnchor","display","width","textAlign","textDecoration","color","connect","setSnackbar","id","_id","fullName","dailyCaloriesTarget","userRole","onDelete","useRole","classes","React","useState","deleting","setDeleting","setMenuAnchor","title","aria-label","onClick","event","prevAnchor","currentTarget","keepMounted","anchorEl","open","onClose","to","onSuccess","onFailure","message","theme","formField","margin","submitBtn","adornmentBtn","UserCredentials","onSubmit","submitDisabled","onChange","showPassword","toggleShowPassword","FormControl","fullWidth","Select","displayEmpty","MenuItem","error","InputLabel","Input","FormHelperText","type","TextField","label","autoComplete","endAdornment","InputAdornment","position","IconButton","onMouseDown","e","preventDefault","root","Button","variant","disabled","UserCreate","state","isBusy","handleCreate","props","handleSuccess","handleFailure","setState","history","push","ROUTES","Users","handleInputChange","target","prevState","this","rest","Component","UserPage","user","match","res","Loading","delay","User","PureComponent","UserEdit","UserMealsComponent","UserContainer","exact","path","component","RoleRoute","allowed","UserMeals","newPath"],"mappings":"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","file":"static/js/User.ab39257b.chunk.js","sourcesContent":["import { schema } from 'normalizr';\n\nconst usersScema = new schema.Entity('users', {}, { idAttribute: '_id' });\n\nexport default {\n  USERS: usersScema,\n  USERS_ARRAY: [usersScema]\n};\n","import { pick } from 'ramda';\nimport { CALL_API } from '../middlewares/api';\nimport Schemas from '../schemas';\nimport * as ActionTypes from './types';\n\n/**\n * Create User\n */\nexport const createUser = params => ({\n  [CALL_API]: {\n    types: [\n      ActionTypes.CREATE_USER_REQUEST,\n      ActionTypes.CREATE_USER_SUCCESS,\n      ActionTypes.CREATE_USER_FAILURE\n    ],\n    endpoint: 'user',\n    method: 'POST',\n    body: pick(['userName', 'email', 'fullName', 'role', 'password'])(params || {}),\n    meta: pick(['onSuccess', 'onFailure'])(params || {})\n  }\n});\n\n/**\n * Get Users\n */\nexport const getUsers = params => ({\n  [CALL_API]: {\n    types: [\n      ActionTypes.GET_USERS_REQUEST,\n      ActionTypes.GET_USERS_SUCCESS,\n      ActionTypes.GET_USERS_FAILURE\n    ],\n    endpoint: 'users',\n    body: pick(['id'])(params || {}),\n    meta: pick(['onSuccess', 'onFailure'])(params || {}),\n    schema: params.normalize\n      ? {\n          data: Schemas.USERS_ARRAY\n        }\n      : null\n  },\n  normalize: params.normalize\n});\n\n/**\n * Update user\n */\nexport const updateUser = params => ({\n  [CALL_API]: {\n    types: [ActionTypes.UPDATE_REQUEST, ActionTypes.UPDATE_SUCCESS, ActionTypes.UPDATE_FAILURE],\n    endpoint: 'user',\n    method: 'PATCH',\n    body: pick(['id', 'userName', 'email', 'fullName', 'dailyCaloriesTarget', 'role', 'password'])(\n      params || {}\n    ),\n    meta: pick(['onSuccess', 'onFailure'])(params || {})\n  }\n});\n\n/**\n * Delete user\n */\nexport const deleteUser = params => ({\n  [CALL_API]: {\n    types: [ActionTypes.DELETE_REQUEST, ActionTypes.DELETE_SUCCESS, ActionTypes.DELETE_FAILURE],\n    endpoint: 'user',\n    method: 'DELETE',\n    body: pick(['id'])(params || {}),\n    meta: pick(['onSuccess', 'onFailure'])(params || {})\n  }\n});\n","const isAlphanumeric = str => {\n  const re = /^[a-zA-Z0-9]+$/;\n  return re.test(String(str));\n};\n\nexport default isAlphanumeric;\n","const isValidEmail = email => {\n  const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n};\n\nexport default isValidEmail;\n","import React from 'react';\nimport styled from 'styled-components';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport parseNameInitials from '../utils/parseNameInitials';\n\nconst Wrapper = styled.div`\n  width: 100px;\n  height: 100px;\n\n  .shadow {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background: rgba(0, 0, 0, 0.05);\n\n    > span {\n      font-size: 1.5rem;\n    }\n  }\n`;\n\nconst Avatar = ({ name, className }) => (\n  <Wrapper className={className || ''}>\n    <div className=\"shadow\">\n      {!!name ? <span>{parseNameInitials(name)}</span> : <AccountCircle />}\n    </div>\n  </Wrapper>\n);\n\nexport default Avatar;\n","export default fullName => (fullName || '').substring(0, 1).toUpperCase();\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(\"path\", {\n  d: \"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n}), 'Visibility');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)(_react.default.createElement(_react.default.Fragment, null, _react.default.createElement(\"path\", {\n  fill: \"none\",\n  d: \"m0 0h24v24H0z\"\n}), _react.default.createElement(\"path\", {\n  d: \"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z\"\n})), 'VisibilityOff');\n\nexports.default = _default;","import { ROLES } from '../constants';\nimport isAlphanumeric from './isAlphanumeric';\nimport isValidEmail from './isValidEmail';\n\nconst userCredentialsValidation = validate => ({\n  userName,\n  email,\n  role,\n  password,\n  confirmPassword\n}) => {\n  let isValid = true;\n\n  const errors = {\n    userName: validate.userName && userNameValidation(userName),\n    email: validate.email && emailValidation(email),\n    role: validate.role && roleValidation(role),\n    password: validate.password && passwordValidation(password),\n    confirmPassword:\n      validate.confirmPassword && confirmPasswordValidation(password, confirmPassword)\n  };\n\n  return { isValid, errors };\n\n  function userNameValidation(userName) {\n    let errorMsg = '';\n\n    if (!isAlphanumeric(userName)) errorMsg = 'Username must be alpha-numeric [a-z, A-Z, 0-9]';\n\n    if (!userName) errorMsg = 'Required';\n\n    isValid = isValid && !errorMsg;\n\n    return errorMsg;\n  }\n\n  function emailValidation(email) {\n    let errorMsg = '';\n\n    if (!isValidEmail(email)) errorMsg = 'Email is not valid';\n\n    if (!email) errorMsg = 'Required';\n\n    isValid = isValid && !errorMsg;\n\n    return errorMsg;\n  }\n\n  function roleValidation(role) {\n    let errorMsg = '';\n\n    if (![ROLES.Admin, ROLES.Moderator, ROLES.Regular].includes(role)) {\n      errorMsg = 'Invalid role';\n    }\n\n    if (!role) errorMsg = 'Required';\n\n    isValid = isValid && !errorMsg;\n\n    return errorMsg;\n  }\n\n  function passwordValidation(password) {\n    let errorMsg = '';\n\n    if (!/^(?=.{8,20}$)(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])/.test(password)) {\n      errorMsg = 'Password must contain [a-z, A-Z, 0-9]';\n    }\n\n    isValid = isValid && !errorMsg;\n\n    return errorMsg;\n  }\n\n  function confirmPasswordValidation(password, confirmPassword) {\n    let errorMsg = '';\n\n    if (password !== confirmPassword) errorMsg = 'Confirm password does not match password';\n\n    isValid = isValid && !errorMsg;\n\n    return errorMsg;\n  }\n};\n\nexport default userCredentialsValidation;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\n\nimport { deleteUser } from '../store/users/actions';\nimport { setSnackbar } from '../store/ui/actions';\nimport { useRole } from '../providers/RoleProvider';\nimport Avatar from '../components/Avatar';\nimport { ROLES } from '../constants';\n\nconst Wrapper = styled.div`\n  position: relative;\n  display: flex;\n  max-width: 100%;\n  width: 100%;\n  min-height: 50px;\n  margin: 10px auto;\n  padding: 8px 12px;\n  border-radius: 8px;\n  box-shadow: 0 0 7px rgba(0, 0, 0, 0.2);\n\n  .more-btns {\n    align-self: center;\n\n    > button {\n      outline: none;\n      border: 0;\n      background: none;\n      cursor: pointer;\n    }\n  }\n\n  .field {\n    position: relative;\n    overflow: hidden;\n    flex: 25%;\n    margin: 0 10px;\n    white-space: nowrap;\n\n    &.email {\n      flex: 33%;\n    }\n\n    span {\n      display: block;\n\n      &.field-label {\n        margin: 0 0 8px;\n        font-weight: bold;\n        color: rgba(0, 0, 0, 0.8);\n      }\n    }\n  }\n\n  .avatar {\n    width: 50px;\n    min-width: 50px;\n    height: 50px;\n  }\n\n  @media (max-width: 950px) {\n    display: block;\n    padding: 15px;\n\n    .field {\n      margin: 0 0 30px;\n      flex: unset;\n      white-space: normal;\n\n      .field-label {\n        margin: 0 0 2px;\n      }\n    }\n\n    .more-btns {\n      position: absolute;\n      top: 15px;\n      right: 15px;\n\n      i {\n        font-size: 26px;\n      }\n    }\n\n    .avatar {\n      margin: 0 0 35px;\n    }\n  }\n`;\n\nconst useStyles = makeStyles(() => ({\n  anchorMenuItem: {\n    padding: 0\n  },\n  menuAnchor: {\n    display: 'block',\n    width: '100%',\n    padding: '10px 0',\n    textAlign: 'center',\n    textDecoration: 'none',\n    color: '#000'\n  }\n}));\n\nconst User = ({\n  _id: id,\n  className,\n  userName,\n  email,\n  fullName,\n  dailyCaloriesTarget,\n  role: userRole,\n  onDelete,\n  deleteUser,\n  setSnackbar\n}) => {\n  const role = useRole();\n  const classes = useStyles();\n  const [deleting, setDeleting] = React.useState(false);\n  const [menuAnchor, setMenuAnchor] = React.useState(null);\n\n  const handleMoreClick = event => {\n    setMenuAnchor(prevAnchor => (prevAnchor ? null : event.currentTarget));\n  };\n\n  const handleClose = () => {\n    setMenuAnchor(null);\n  };\n\n  const handleDelete = () => {\n    if (!deleting) {\n      setDeleting(true);\n\n      deleteUser({\n        id,\n        onSuccess: onDelete,\n        onFailure: errors => {\n          setDeleting(false);\n          setSnackbar(errors.message || 'Something went wrong');\n        }\n      });\n    }\n  };\n\n  return (\n    <Wrapper className={className || ''}>\n      <Avatar name={userName} className=\"avatar\" />\n\n      <div className=\"userName field\">\n        <span className=\"field-label\">Username</span>\n        <span className=\"field-value\" title={userName}>\n          {userName}\n        </span>\n      </div>\n\n      <div className=\"email field\">\n        <span className=\"field-label\">Email</span>\n        <span className=\"field-value\" title={email}>\n          {email}\n        </span>\n      </div>\n\n      <div className=\"fullName field\">\n        <span className=\"field-label\">Full name</span>\n        <span className=\"field-value\" title={fullName}>\n          {fullName}\n        </span>\n      </div>\n\n      <div className=\"dailyCaloriesTarget field\">\n        <span className=\"field-label\">Exp. Calories / Day</span>\n        <span className=\"field-value\" title={dailyCaloriesTarget}>\n          {dailyCaloriesTarget}\n        </span>\n      </div>\n\n      <div className=\"role field\">\n        <span className=\"field-label\">Role</span>\n        <span className=\"field-value\" title={userRole}>\n          {userRole}\n        </span>\n      </div>\n\n      <div className=\"more-btns\">\n        <button aria-label=\"More\" onClick={handleMoreClick}>\n          <i className=\"material-icons\">expand_more</i>\n        </button>\n        <Menu\n          id={`user-${id}-menu`}\n          keepMounted\n          anchorEl={menuAnchor}\n          open={!!menuAnchor}\n          onClose={handleClose}\n        >\n          {role === ROLES.Admin && (\n            <MenuItem className={classes.anchorMenuItem}>\n              <Link to={`/user/${id}/meals`} className={classes.menuAnchor}>\n                MEALS\n              </Link>\n            </MenuItem>\n          )}\n          <MenuItem className={classes.anchorMenuItem}>\n            <Link to={`/user/${id}/edit`} className={classes.menuAnchor}>\n              EDIT\n            </Link>\n          </MenuItem>\n          <MenuItem onClick={handleDelete}>DELETE</MenuItem>\n        </Menu>\n      </div>\n    </Wrapper>\n  );\n};\n\nexport default connect(\n  null,\n  { deleteUser, setSnackbar }\n)(User);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\nimport IconButton from '@material-ui/core/IconButton';\nimport Input from '@material-ui/core/Input';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Button from '@material-ui/core/Button';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Select from '@material-ui/core/Select';\n\nimport { ROLES } from '../../constants';\n\nconst Wrapper = styled.div`\n  display: flex;\n  max-width: 450px;\n  width: 100%;\n  margin: 0 auto;\n  padding: 35px 50px;\n  background: #fff;\n  border-radius: 8px;\n  box-shadow: 0 0 30px rgba(0, 0, 0, 0.05);\n\n  .submit-container {\n    margin: 30px auto 0;\n    text-align: center;\n  }\n\n  .MuiFormHelperText-root {\n    position: absolute;\n    bottom: -20px;\n  }\n\n  .password-helper {\n    color: rgb(184, 107, 0);\n\n    &.Mui-error {\n      color: rgb(244, 67, 54);\n    }\n  }\n\n  @media (max-width: 500px) {\n    padding: 20px 30px;\n\n    .password-helper {\n      bottom: -30px;\n    }\n  }\n`;\n\nconst useStyles = makeStyles(theme => ({\n  formField: { margin: '0 auto 25px' },\n  submitBtn: { width: '200px' },\n  adornmentBtn: { padding: 0 }\n}));\n\nconst UserCredentials = ({\n  onSubmit,\n  submitDisabled,\n  onChange,\n  role,\n  userName,\n  email,\n  fullName,\n  password,\n  errors\n}) => {\n  const classes = useStyles();\n  const [showPassword, toggleShowPassword] = React.useState(false);\n\n  return (\n    <Wrapper>\n      <form onSubmit={onSubmit}>\n        {/* Role */}\n        <FormControl fullWidth className={classes.formField}>\n          <Select displayEmpty name=\"role\" value={role} onChange={onChange}>\n            <MenuItem value={ROLES.Regular}>Regular</MenuItem>\n            <MenuItem value={ROLES.Moderator}>Moderator</MenuItem>\n            <MenuItem value={ROLES.Admin}>Admin</MenuItem>\n          </Select>\n        </FormControl>\n\n        {/* Username */}\n        <FormControl fullWidth className={classes.formField} error={!!errors.userName}>\n          <InputLabel>Username</InputLabel>\n          <Input name=\"userName\" value={userName} onChange={onChange} />\n          {!!errors.userName && <FormHelperText>{errors.userName}</FormHelperText>}\n        </FormControl>\n\n        {/* Email */}\n        <FormControl fullWidth className={classes.formField} error={!!errors.email}>\n          <InputLabel>Email</InputLabel>\n          <Input type=\"email\" name=\"email\" value={email} onChange={onChange} />\n          {!!errors.email && <FormHelperText>{errors.email}</FormHelperText>}\n        </FormControl>\n\n        {/* FullName */}\n        <FormControl fullWidth className={classes.formField}>\n          <TextField label=\"Full name\" name=\"fullName\" value={fullName} onChange={onChange} />\n        </FormControl>\n\n        {/* Password */}\n        <FormControl fullWidth className={classes.formField} error={!!errors.password}>\n          <InputLabel>Password</InputLabel>\n          <Input\n            type={showPassword ? 'text' : 'password'}\n            name=\"password\"\n            value={password}\n            onChange={onChange}\n            autoComplete=\"current-password\"\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  aria-label=\"Toggle password visibility\"\n                  className={classes.adornmentBtn}\n                  onClick={() => toggleShowPassword(!showPassword)}\n                  onMouseDown={e => e.preventDefault()}\n                >\n                  {showPassword ? <Visibility /> : <VisibilityOff />}\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n          <FormHelperText classes={{ root: 'password-helper' }}>\n            Password must contain [a-z, A-Z, 0-9] with length of 8 ~ 20\n          </FormHelperText>\n        </FormControl>\n\n        <div className=\"submit-container\">\n          <Button\n            variant=\"outlined\"\n            color=\"primary\"\n            type=\"submit\"\n            className={classes.submitBtn}\n            disabled={submitDisabled}\n          >\n            SUBMIT\n          </Button>\n        </div>\n      </form>\n    </Wrapper>\n  );\n};\n\nexport default UserCredentials;\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { pick } from 'ramda';\n\nimport { createUser } from '../../store/users/actions';\nimport { setSnackbar } from '../../store/ui/actions';\nimport { ROUTES, ROLES } from '../../constants';\nimport userCredentialsValidation from '../../utils/userCredentialsValidation';\nimport UserCredentials from './UserCredentials';\n\nclass UserCreate extends React.Component {\n  state = {\n    isBusy: false,\n    role: ROLES.Regular,\n    userName: '',\n    email: '',\n    fullName: '',\n    password: '',\n    errors: {}\n  };\n\n  handleCreate = event => {\n    event.preventDefault();\n\n    const { isValid, errors } = userCredentialsValidation({\n      role: true,\n      userName: true,\n      email: true,\n      password: true\n    })(this.state);\n\n    if (!isValid) {\n      this.setState({ errors });\n    } else {\n      this.props.createUser({\n        ...pick(['role', 'userName', 'email', 'fullName', 'password'])(this.state),\n        onSuccess: this.handleSuccess,\n        onFailure: this.handleFailure\n      });\n    }\n  };\n\n  handleSuccess = () => {\n    this.props.history.push(ROUTES.Users);\n    this.props.setSnackbar('Success');\n  };\n\n  handleFailure = errors => {\n    this.setState({ isBusy: false }, () => {\n      this.props.setSnackbar(errors.message || 'Something went wrong');\n    });\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState(prevState => ({ [name]: value, errors: { ...prevState.errors, [name]: '' } }));\n  };\n\n  render() {\n    const { isBusy, ...rest } = this.state;\n\n    return (\n      <UserCredentials\n        {...rest}\n        onChange={this.handleInputChange}\n        onSubmit={this.handleCreate}\n        submitDisabled={isBusy}\n      />\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { createUser, setSnackbar }\n)(UserCreate);\n","import React from 'react';\nimport styled from 'styled-components';\nimport { connect } from 'react-redux';\n\nimport { getUsers } from '../../store/users/actions';\nimport User from '../../components/User';\nimport Loading from '../../components/Loading';\nimport { ROUTES } from '../../constants';\n\nconst Wrapper = styled.div`\n  padding: 20px 0 0;\n  text-align: ${({ isBusy }) => (isBusy ? 'center' : 'initial')};\n\n  > svg {\n    margin: 150px auto 0;\n    width: 80px;\n    height: 80px;\n  }\n`;\n\nclass UserPage extends React.PureComponent {\n  state = {\n    isBusy: true,\n    user: null\n  };\n\n  componentDidMount() {\n    this.props.getUsers({\n      id: this.props.match.params.id,\n      onSuccess: res => this.setState({ isBusy: false, user: res.data[0] }),\n      onFailure: () => this.props.history.push(ROUTES.Users)\n    });\n  }\n\n  render() {\n    const { isBusy, user } = this.state;\n\n    if (isBusy) {\n      return (\n        <Wrapper isBusy>\n          <Loading delay={700} />\n        </Wrapper>\n      );\n    }\n\n    return (\n      <Wrapper>\n        <User {...user} />\n      </Wrapper>\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { getUsers }\n)(UserPage);\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { pick } from 'ramda';\n\nimport { updateUser, getUsers } from '../../store/users/actions';\nimport { setSnackbar } from '../../store/ui/actions';\nimport { ROUTES, ROLES } from '../../constants';\nimport userCredentialsValidation from '../../utils/userCredentialsValidation';\nimport UserCredentials from './UserCredentials';\n\nclass UserEdit extends React.Component {\n  state = {\n    isBusy: true,\n    role: ROLES.Regular,\n    userName: '',\n    email: '',\n    fullName: '',\n    password: '',\n    errors: {}\n  };\n\n  componentDidMount() {\n    const onSuccess = res => {\n      this.setState({\n        isBusy: false,\n        ...pick(['userName', 'email', 'fullName', 'role'])(res.data[0])\n      });\n    };\n\n    const onFailure = errors => {\n      this.props.history.push(ROUTES.Users);\n      this.props.setSnackbar(errors.message || 'Something went wrong');\n    };\n\n    this.props.getUsers({\n      id: this.props.match.params.id,\n      onSuccess,\n      onFailure\n    });\n  }\n\n  handleCreate = event => {\n    event.preventDefault();\n\n    const { isValid, errors } = userCredentialsValidation({\n      role: true,\n      userName: true,\n      email: !!this.state.email,\n      password: !!this.state.password\n    })(this.state);\n\n    if (!isValid) {\n      this.setState({ errors });\n    } else {\n      this.props.updateUser({\n        ...pick(['role', 'userName', 'email', 'fullName', 'password'])(this.state),\n        id: this.props.match.params.id,\n        onSuccess: this.handleSuccess,\n        onFailure: this.handleFailure\n      });\n    }\n  };\n\n  handleSuccess = () => {\n    this.props.history.push(ROUTES.Users);\n    this.props.setSnackbar('Success');\n  };\n\n  handleFailure = errors => {\n    this.setState({ isBusy: false }, () => {\n      this.props.setSnackbar(errors.message || 'Something went wrong');\n    });\n  };\n\n  handleInputChange = event => {\n    const { name, value } = event.target;\n    this.setState(prevState => ({ [name]: value, errors: { ...prevState.errors, [name]: '' } }));\n  };\n\n  render() {\n    const { isBusy, ...rest } = this.state;\n\n    return (\n      <UserCredentials\n        {...rest}\n        onChange={this.handleInputChange}\n        onSubmit={this.handleCreate}\n        submitDisabled={isBusy}\n      />\n    );\n  }\n}\n\nexport default connect(\n  null,\n  { updateUser, getUsers, setSnackbar }\n)(UserEdit);\n","import React from 'react';\nimport { connect } from 'react-redux';\n\nimport UserMeals from '../../components/user-meals';\nimport Loading from '../../components/Loading';\nimport { getUsers } from '../../store/users/actions';\nimport { setSnackbar } from '../../store/ui/actions';\nimport { ROUTES } from '../../constants';\n\nclass UserMealsComponent extends React.PureComponent {\n  state = {\n    isBusy: true,\n    user: null\n  };\n\n  componentDidMount() {\n    this.props.getUsers({\n      id: this.props.match.params.id,\n      onSuccess: res => this.setState({ isBusy: false, user: res.data[0] }),\n      onFailure: errors => {\n        this.props.history.push(ROUTES.Users);\n        this.props.setSnackbar(errors.message || 'Something went wrong');\n      }\n    });\n  }\n\n  render() {\n    const { isBusy, user } = this.state;\n\n    if (isBusy) return <Loading delay={700} />;\n\n    return <UserMeals {...user} />;\n  }\n}\n\nexport default connect(\n  null,\n  { getUsers, setSnackbar }\n)(UserMealsComponent);\n","import React from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\n\nimport RoleRoute from '../../components/RoleRoute';\nimport { ROUTES, ROLES } from '../../constants';\nimport UserCreate from './UserCreate';\nimport UserPage from './UserPage';\nimport UserEdit from './UserEdit';\nimport UserMeals from './UserMeals';\n\nconst UserContainer = () => (\n  <Switch>\n    <Route exact path={ROUTES.UserCreate} component={UserCreate} />\n    <Route exact path={ROUTES.User} component={UserPage} />\n    <Route path={ROUTES.UserEdit} component={UserEdit} />\n    <RoleRoute\n      allowed={[ROLES.Admin]}\n      path={ROUTES.UserMeals}\n      newPath={ROUTES.Users}\n      component={UserMeals}\n    />\n    <Redirect to=\"/404\" />\n  </Switch>\n);\n\nexport default UserContainer;\n"],"sourceRoot":""}